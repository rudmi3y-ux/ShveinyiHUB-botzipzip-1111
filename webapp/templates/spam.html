{% extends "base.html" %}

{% block title %}–ñ—É—Ä–Ω–∞–ª —Å–ø–∞–º–∞ - –®–≤–µ–π–Ω–∞—è –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è{% endblock %}

{% block content %}
<div class="card">
    <h2>üõë –ñ—É—Ä–Ω–∞–ª —Å–ø–∞–º-–∞—Ç–∞–∫ ({{ spam_logs|length }})</h2>
    
    {% if spam_logs %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>User ID</th>
                <th>–°–æ–æ–±—â–µ–Ω–∏–µ</th>
                <th>–ü—Ä–∏—á–∏–Ω–∞</th>
                <th>–î–∞—Ç–∞</th>
            </tr>
        </thead>
        <tbody>
            {% for log in spam_logs %}
            <tr>
                <td>{{ log.id }}</td>
                <td>{{ log.user_id }}</td>
                <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis;">{{ log.message[:100] }}{% if log.message|length > 100 %}...{% endif %}</td>
                <td><span class="status status-cancelled">{{ log.reason }}</span></td>
                <td>{{ log.created_at.strftime('%d.%m.%Y %H:%M') if log.created_at else '-' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="padding: 20px; text-align: center; color: #888;">üéâ –°–ø–∞–º-–∞—Ç–∞–∫ –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ!</p>
    {% endif %}
</div>
{% endblock %}
