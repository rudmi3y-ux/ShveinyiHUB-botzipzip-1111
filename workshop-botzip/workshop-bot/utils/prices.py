"""
–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —Ü–µ–Ω—ã.
"""
import logging
from .database import get_session, Category, Price

logger = logging.getLogger(__name__)


def add_category(name: str, slug: str, emoji: str = "", sort_order: int = 0) -> int:
    """–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —É—Å–ª—É–≥"""
    session = get_session()
    try:
        existing = session.query(Category).filter(Category.slug == slug).first()
        if existing:
            existing.name = name
            existing.emoji = emoji
            existing.sort_order = sort_order
            session.commit()
            return existing.id
        
        category = Category(
            name=name,
            slug=slug,
            emoji=emoji,
            sort_order=sort_order
        )
        session.add(category)
        session.commit()
        return category.id
    finally:
        session.close()


def get_category(slug: str):
    """–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–æ slug"""
    session = get_session()
    try:
        return session.query(Category).filter(Category.slug == slug, Category.is_active == True).first()
    finally:
        session.close()


def get_all_categories():
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    session = get_session()
    try:
        return session.query(Category).filter(Category.is_active == True).order_by(Category.sort_order).all()
    finally:
        session.close()


def add_price(category_id: int, name: str, price: str, sort_order: int = 0) -> int:
    """–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é"""
    session = get_session()
    try:
        existing = session.query(Price).filter(
            Price.category_id == category_id,
            Price.name == name
        ).first()
        
        if existing:
            existing.price = price
            existing.sort_order = sort_order
            session.commit()
            return existing.id
        
        price_item = Price(
            category_id=category_id,
            name=name,
            price=price,
            sort_order=sort_order
        )
        session.add(price_item)
        session.commit()
        return price_item.id
    finally:
        session.close()


def get_prices_by_category(category_id: int):
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ü–µ–Ω—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    session = get_session()
    try:
        return session.query(Price).filter(
            Price.category_id == category_id,
            Price.is_active == True
        ).order_by(Price.sort_order).all()
    finally:
        session.close()


def get_prices_by_slug(slug: str):
    """–ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã –ø–æ slug –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    session = get_session()
    try:
        category = session.query(Category).filter(Category.slug == slug).first()
        if not category:
            return None, []
        prices = session.query(Price).filter(
            Price.category_id == category.id,
            Price.is_active == True
        ).order_by(Price.sort_order).all()
        return category, prices
    finally:
        session.close()


def format_prices_text(slug: str) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –±–æ—Ç–µ"""
    category, prices = get_prices_by_slug(slug)
    
    if not category or not prices:
        return None
    
    text = f"{category.emoji} *{category.name}*\n\n"
    
    for p in prices:
        text += f"‚Ä¢ {p.name} ‚Äî {p.price}\n"
    
    return text


def delete_category(slug: str) -> bool:
    """–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å)"""
    session = get_session()
    try:
        category = session.query(Category).filter(Category.slug == slug).first()
        if category:
            category.is_active = False
            session.commit()
            return True
        return False
    finally:
        session.close()


def delete_price(price_id: int) -> bool:
    """–£–¥–∞–ª–∏—Ç—å —É—Å–ª—É–≥—É (–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å)"""
    session = get_session()
    try:
        price = session.query(Price).filter(Price.id == price_id).first()
        if price:
            price.is_active = False
            session.commit()
            return True
        return False
    finally:
        session.close()


def clear_category_prices(category_id: int):
    """–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ü–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    session = get_session()
    try:
        session.query(Price).filter(Price.category_id == category_id).delete()
        session.commit()
    finally:
        session.close()


def import_prices_data():
    """–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ü–µ–Ω—ã –∏–∑ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞"""
    
    categories_data = [
        {"name": "–†–µ–º–æ–Ω—Ç –ø–∏–¥–∂–∞–∫–∞", "slug": "jacket", "emoji": "üß•", "sort_order": 1},
        {"name": "–†–µ–º–æ–Ω—Ç –∏–∑–¥–µ–ª–∏–π –∏–∑ –∫–æ–∂–∏", "slug": "leather", "emoji": "üéí", "sort_order": 2},
        {"name": "–ü–æ—à–∏–≤ —à—Ç–æ—Ä", "slug": "curtains", "emoji": "ü™ü", "sort_order": 3},
        {"name": "–†–µ–º–æ–Ω—Ç –∫—É—Ä—Ç–∫–∏", "slug": "coat", "emoji": "üß•", "sort_order": 4},
        {"name": "–†–µ–º–æ–Ω—Ç —à—É–±—ã/–¥—É–±–ª—ë–Ω–∫–∏", "slug": "fur", "emoji": "üêæ", "sort_order": 5},
        {"name": "–†–µ–º–æ–Ω—Ç –ø–ª–∞—â–∞/–ø–∞–ª—å—Ç–æ", "slug": "outerwear", "emoji": "üß•", "sort_order": 6},
        {"name": "–†–µ–º–æ–Ω—Ç –±—Ä—é–∫/–¥–∂–∏–Ω—Å–æ–≤", "slug": "pants", "emoji": "üëñ", "sort_order": 7},
        {"name": "–†–µ–º–æ–Ω—Ç —é–±–∫–∏/–ø–ª–∞—Ç—å—è", "slug": "dress", "emoji": "üëó", "sort_order": 8},
    ]
    
    prices_data = {
        "jacket": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ä—É–∫–∞–≤ –∏–ª–∏ —É–¥–ª–∏–Ω–∏—Ç—å", "–æ—Ç 1500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ä—É–∫–∞–≤ (—Å —à–ª–∏—Ü–µ–π)", "–æ—Ç 2000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π", "–æ—Ç 2000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π (—Ñ–∏–≥—É—Ä–Ω–æ–π)", "–æ—Ç 2500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π (1 —à–ª–∏—Ü–∞)", "–æ—Ç 2600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π (2 —à–ª–∏—Ü—ã)", "–æ—Ç 2900 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –±–µ–∑ –ø–æ–¥–∫–ª–∞–¥–∫–∏", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ —Å–ø–∏–Ω–∫–∏", "–æ—Ç 800 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ —Å–ø–∏–Ω–∫–∏ (—Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π)", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º, –ø–æ —Ä–µ–ª—å–µ—Ñ–∞–º", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º (—Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π)", "–æ—Ç 2000 ‚ÇΩ"),
            ("–£–º–µ–Ω—å—à–∏—Ç—å –ø–ª–µ—á–µ–≤—ã–µ —à–≤—ã", "–æ—Ç 2000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –ø–æ–¥–∫–ª–∞–¥–∫–∏ (–º—É–∂—Å–∫–æ–π –ø–∏–¥–∂–∞–∫)", "–æ—Ç 5000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –ø–æ–¥–∫–ª–∞–¥–∫–∏ (–∂–µ–Ω—Å–∫–∏–π –ø–∏–¥–∂–∞–∫)", "–æ—Ç 4000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –ø–æ–¥–∫–ª–∞–¥–∫–∏ (2 —à–ª–∏—Ü—ã)", "–æ—Ç 4600 ‚ÇΩ"),
            ("–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–∞—Ä–º–∞–Ω–∞", "–æ—Ç 800 ‚ÇΩ"),
            ("–ü—Ä–∏—à–∏—Ç—å —à–µ–≤—Ä–æ–Ω (1 —à—Ç.)", "–æ—Ç 250 ‚ÇΩ"),
            ("–ü—Ä–∏—à–∏—Ç—å –ø–æ–≥–æ–Ω (1 —à—Ç.)", "–æ—Ç 300 ‚ÇΩ"),
        ],
        "leather": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É", "–æ—Ç 2000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ —é–±–∫–µ/–±—Ä—é–∫–∞—Ö", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —é–±–∫—É/–±—Ä—é–∫–∏", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –ø–∞–ª—å—Ç–æ/–∫—É—Ä—Ç–∫—É", "–æ—Ç 4000 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º", "–æ—Ç 2500 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ —Ä–µ–ª—å–µ—Ñ–Ω—ã–º —à–≤–∞–º", "–æ—Ç 2500 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É –≤ —é–±–∫–µ", "–æ—Ç 2000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É –≤ –±—Ä—é–∫–∞—Ö", "–æ—Ç 2200 ‚ÇΩ"),
            ("–ü–æ–¥–≥–æ–Ω –ø–æ —Ñ–∏–≥—É—Ä–µ", "–æ—Ç 4000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –¥–µ—Ç–∞–ª–∏", "–æ—Ç 1500 ‚ÇΩ"),
            ("–†–∞—Å–ø–æ—Ä–æ—Ç—ã–π —à–æ–≤", "–æ—Ç 600 ‚ÇΩ"),
            ("–ü—Ä–∏—à–∏—Ç—å –ø—É–≥–æ–≤–∏—Ü—É", "–æ—Ç 200 ‚ÇΩ"),
        ],
        "curtains": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —à—Ç–æ—Ä (1 –º–µ—Ç—Ä)", "350 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Ç—é–ª—å (1 –º–µ—Ç—Ä)", "300 ‚ÇΩ"),
            ("–ü–æ–¥—à–∏—Ç—å –±–æ–∫–æ–≤—ã–µ —à–≤—ã (1 –º–µ—Ç—Ä)", "200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å–≤–µ—Ä—Ö—É —à—Ç–æ—Ä—ã (1 –º–µ—Ç—Ä)", "300 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å–≤–µ—Ä—Ö—É —Ç—é–ª—å (1 –º–µ—Ç—Ä)", "300 ‚ÇΩ"),
            ("–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–≤–µ—Ä–ª–æ–∫–æ–º (1 –º–µ—Ç—Ä)", "200 ‚ÇΩ"),
            ("–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä—É–ª–µ–≤—ã–º —à–≤–æ–º (1 –º–µ—Ç—Ä)", "200 ‚ÇΩ"),
        ],
        "coat": [
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ —Å–ø–∏–Ω–∫–∏ (—Å —É—Ç–µ–ø–ª–∏—Ç–µ–ª–µ–º)", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ —Å–ø–∏–Ω–∫–∏", "–æ—Ç 1000 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º (—Å —É—Ç–µ–ø–ª–∏—Ç–µ–ª–µ–º)", "–æ—Ç 2000 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –∏–ª–∏ —É–¥–ª–∏–Ω–∏—Ç—å —Ä—É–∫–∞–≤–∞", "–æ—Ç 1500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Ä—É–∫–∞–≤–∞ –Ω–∞ –º–∞–Ω–∂–µ—Ç–µ", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Ä—É–∫–∞–≤–∞ —Å –æ—Ç–≤–æ—Ä–æ—Ç–æ–º", "–æ—Ç 1800 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π", "–æ—Ç 2000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —Å —à–ª–∏—Ü–µ–π", "–æ—Ç 2300 ‚ÇΩ"),
            ("–£–º–µ–Ω—å—à–∏—Ç—å –ø–ª–µ—á–µ–≤—ã–µ —à–≤—ã", "–æ—Ç 2000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É", "–æ—Ç 3500 ‚ÇΩ"),
            ("–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–∞—Ä–º–∞–Ω–∞", "–æ—Ç 800 ‚ÇΩ"),
            ("–†–∞—Å–ø–æ—Ä–æ—Ç—ã–π —à–æ–≤", "–æ—Ç 400 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é (–±–µ–∑ –ø–ª–∞—Å—Ç—Ä–æ–Ω–∞)", "–æ—Ç 2000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é (—Å –ø–ª–∞—Å—Ç—Ä–æ–Ω–æ–º)", "–æ—Ç 2800 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é –≤ –∫–æ–∂–∞–Ω–æ–π –∫—É—Ä—Ç–∫–µ", "–æ—Ç 3000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é –≤ –ø—É—Ö–æ–≤–∏–∫–µ", "–æ—Ç 3000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–µ—à–∫–æ–≤–∏–Ω—ã –≤ –∫–∞—Ä–º–∞–Ω–∞—Ö", "–æ—Ç 800 ‚ÇΩ"),
        ],
        "fur": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —à—É–±—ã –ø—Ä—è–º–∞—è", "–æ—Ç 6000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —à—É–±—ã —Å –æ—Ç–ª–µ—Ç–Ω–æ–π –ø–æ–¥–∫–ª–∞–¥–∫–æ–π", "–æ—Ç 7000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ —à—É–±—ã —Ä–∞—Å–∫–ª–µ—à–µ–Ω–Ω–∞—è", "–æ—Ç 7000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ä—É–∫–∞–≤–∞ —à—É–±—ã", "–æ—Ç 3000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É –≤ –∫–æ—Ä–æ—Ç–∫–æ–π —à—É–±–µ", "–æ—Ç 6000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É –≤ –¥–ª–∏–Ω–Ω–æ–π —à—É–±–µ", "–æ—Ç 8000 ‚ÇΩ"),
            ("–†–∞—Å–ø–æ—Ä–æ—Ç—ã–π —à–æ–≤ –≤ —à—É–±–µ", "–æ—Ç 7000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –∫—Ä—é—á–∫–æ–≤ –≤ —à—É–±–µ (–ø–∞—Ä–∞)", "–æ—Ç 1000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –Ω–∞–≤–µ—Å–Ω–æ–π –ø–µ—Ç–ª–∏ –≤ —à—É–±–µ", "–æ—Ç 600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –¥—É–±–ª–µ–Ω–∫–∏ –ø—Ä—è–º–∞—è", "–æ—Ç 3000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –¥—É–±–ª–µ–Ω–∫–∏ —Ä–∞—Å–∫–ª–µ—à–µ–Ω–Ω–∞—è", "–æ—Ç 3500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ä—É–∫–∞–≤–∞ –¥—É–±–ª–µ–Ω–∫–∏", "–æ—Ç 2500 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º –¥—É–±–ª–µ–Ω–∫—É –∫–æ—Ä–æ—Ç–∫—É—é", "–æ—Ç 3000 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º –¥—É–±–ª–µ–Ω–∫—É –¥–ª–∏–Ω–Ω—É—é", "–æ—Ç 4000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é –≤ –¥—É–±–ª–µ–Ω–∫–µ", "–æ—Ç 3000 ‚ÇΩ"),
            ("–†–∞—Å–ø–æ—Ä–æ—Ç—ã–π —à–æ–≤ –≤ –¥—É–±–ª–µ–Ω–∫–µ", "–æ—Ç 500 ‚ÇΩ"),
            ("–ü—Ä–∏—à–∏—Ç—å –ø—É–≥–æ–≤–∏—Ü—É", "–æ—Ç 200 ‚ÇΩ"),
        ],
        "outerwear": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –∏–ª–∏ —É–¥–ª–∏–Ω–∏—Ç—å —Ä—É–∫–∞–≤–∞", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ä—É–∫–∞–≤–∞ (—Å —à–ª–∏—Ü–µ–π)", "–æ—Ç 2200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–ª–∞—â–∞", "–æ—Ç 2500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–ª–∞—â–∞ (1 —à–ª–∏—Ü–∞)", "–æ—Ç 3000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–ª–∞—â–∞ (2 —à–ª–∏—Ü—ã)", "–æ—Ç 3500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–∞–ª—å—Ç–æ", "–æ—Ç 3000 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–∞–ª—å—Ç–æ (1 —à–ª–∏—Ü–∞)", "–æ—Ç 3400 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –ø–∞–ª—å—Ç–æ (2 —à–ª–∏—Ü—ã)", "–æ—Ç 3800 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É", "–æ—Ç 4000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É (1 —à–ª–∏—Ü–∞)", "–æ—Ç 4600 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É (2 —à–ª–∏—Ü—ã)", "–æ—Ç 5000 ‚ÇΩ"),
            ("–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–∞—Ä–º–∞–Ω–∞", "–æ—Ç 1000 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º (–±–µ–∑ –ø–æ–¥–∫–ª–∞–¥–∫–∏)", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º (—Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π)", "–æ—Ç 2200 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é (–±–µ–∑ –ø–ª–∞—Å—Ç—Ä–æ–Ω–∞)", "–æ—Ç 3000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –º–æ–ª–Ω–∏—é (—Å –ø–ª–∞—Å—Ç—Ä–æ–Ω–æ–º)", "–æ—Ç 3600 ‚ÇΩ"),
        ],
        "pants": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –¥–∂–∏–Ω—Å—ã", "–æ—Ç 500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –¥–∂–∏–Ω—Å—ã —Å —Ä–æ–¥–Ω—ã–º –∫—Ä–∞–µ–º", "–æ—Ç 900 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏ –∂–µ–Ω—Å–∫–∏–µ", "–æ—Ç 600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏ –º—É–∂—Å–∫–∏–µ –Ω–∞ —Ç–µ—Å—å–º–µ", "–æ—Ç 800 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏ —Å –º–∞–Ω–∂–µ—Ç–∞–º–∏", "–æ—Ç 900 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Ç—Ä–∏–∫–æ—Ç–∞–∂–Ω—ã–µ –±—Ä—é–∫–∏", "–æ—Ç 600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –±—Ä—é–∫–∏ —Å –º–æ–ª–Ω–∏–µ–π", "–æ—Ç 1400 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏ –¥–µ—Ç—Å–∫–∏–µ", "–æ—Ç 700 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –±—Ä—é–∫–∏ –∫–æ–∂–∞–Ω—ã–µ", "–æ—Ç 1200 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ –±—Ä—é–∫–∞—Ö", "–æ—Ç 700 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –Ω–∞ –¥–∂–∏–Ω—Å–∞—Ö", "–æ—Ç 800 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ –≤ –±—Ä—é–∫–∞—Ö", "–æ—Ç 700 ‚ÇΩ"),
            ("–£—à–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —à–æ–≤ –≤ –¥–∂–∏–Ω—Å–∞—Ö", "–æ—Ç 900 ‚ÇΩ"),
            ("–ò–∑–≥–æ—Ç–æ–≤–∏—Ç—å —à–ª–µ–≤–∫—É (1 —à—Ç.)", "–æ—Ç 200 ‚ÇΩ"),
            ("–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—è—Å –±—Ä—é–∫", "–æ—Ç 1300 ‚ÇΩ"),
            ("–†–∞—Å—Å—Ç–∞–≤–∏—Ç—å –¥–∂–∏–Ω—Å—ã –≤ –±–æ–∫–æ–≤—ã—Ö —à–≤–∞—Ö", "–æ—Ç 1500 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –≥–∞–ª–∏—Ñ–µ –ø–æ –±–æ–∫–æ–≤—ã–º —à–≤–∞–º", "–æ—Ç 600 ‚ÇΩ"),
            ("–ó–∞–Ω–∏–∑–∏—Ç—å –ª–∏–Ω–∏—é —Ç–∞–ª–∏–∏ –≤ –±—Ä—é–∫–∞—Ö", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –±—Ä—é–∫–∏ –æ—Ç –∫–æ–ª–µ–Ω–∞ (–æ–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞)", "–æ—Ç 600 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –±—Ä—é–∫–∏ –æ—Ç –∫–æ–ª–µ–Ω–∞ (–¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã)", "–æ—Ç 1000 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–µ—à–∫–æ–≤–∏–Ω—ã –≤ –∫–∞—Ä–º–∞–Ω–∞—Ö", "–æ—Ç 800 ‚ÇΩ"),
            ("–í—Å—Ç–∞–≤–∏—Ç—å –ª–∞—Å—Ç–æ–≤–∏—Ü—É", "–æ—Ç 1000 ‚ÇΩ"),
            ("–®—Ç–æ–ø–∫–∞ –¥–∂–∏–Ω—Å—ã (–æ–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞)", "–æ—Ç 400 ‚ÇΩ"),
            ("–®—Ç–æ–ø–∫–∞ –¥–∂–∏–Ω—Å—ã (–¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã)", "–æ—Ç 700 ‚ÇΩ"),
            ("–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–ª–∞—Ç–∫–∏ –Ω–∞ –¥–∂–∏–Ω—Å–∞—Ö", "–æ—Ç 400 ‚ÇΩ"),
            ("–ü–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É–≥–æ–≤–∏—Ü—É –Ω–∞ –¥–∂–∏–Ω—Å—ã", "–æ—Ç 200 ‚ÇΩ"),
        ],
        "dress": [
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É –ø—Ä—è–º—É—é (–±–µ–∑ —à–ª–∏—Ü—ã)", "–æ—Ç 800 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É –ø—Ä—è–º—É—é (—Å —à–ª–∏—Ü–æ–π)", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É —Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π", "–æ—Ç 1500 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –Ω–∏–∑ –Ω–∞ —Ä–∞—Å–ø–æ—à–∏–≤–∞–ª–∫–µ", "–æ—Ç 700 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É —Å–≤–µ—Ä—Ö—É (—Ç—Ä–∏–∫–æ—Ç–∞–∂)", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É —Å–≤–µ—Ä—Ö—É (—Ç–µ–∫—Å—Ç–∏–ª—å)", "–æ—Ç 1400 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —é–±–∫—É –≤ —Å–∫–ª–∞–¥–∫—É", "–æ—Ç 1600 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å —è—Ä—É—Å—ã —Å–≤–∞–¥–µ–±–Ω–æ–≥–æ –ø–ª–∞—Ç—å—è", "–æ—Ç 3000 ‚ÇΩ"),
            ("–û–≤–µ—Ä–ª–æ–∫ (1 –º–µ—Ç—Ä)", "–æ—Ç 200 ‚ÇΩ"),
            ("–£–∫–æ—Ä–æ—Ç–∏—Ç—å –≤–µ—á–µ—Ä–Ω–µ–µ –ø–ª–∞—Ç—å–µ", "–æ—Ç 1500 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ —é–±–∫–µ", "–æ—Ç 600 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ (–Ω–∞ –ø–æ–¥–∫–ª–∞–¥–∫–µ)", "–æ—Ç 700 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ –¥–∂–∏–Ω—Å–æ–≤–æ–π —é–±–∫–µ", "–æ—Ç 700 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ –ø–ª–∞—Ç—å–µ", "–æ—Ç 800 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∞ –º–æ–ª–Ω–∏–∏ –≤ –ø–ª–∞—Ç—å–µ (—Å –ø–æ–¥–∫–ª–∞–¥–∫–æ–π)", "–æ—Ç 1200 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –±–æ–∫–æ–≤—ã–µ —à–≤—ã –≤ —é–±–∫–µ (—Å –ø–æ—è—Å–æ–º)", "–æ—Ç 1400 ‚ÇΩ"),
            ("–†–∞—Å—Å—Ç–∞–≤–∏—Ç—å –±–æ–∫–æ–≤—ã–µ —à–≤—ã –≤ —é–±–∫–µ", "–æ—Ç 1800 ‚ÇΩ"),
            ("–£—à–∏—Ç—å –≥–∞–ª–∏—Ñ–µ", "–æ—Ç 600 ‚ÇΩ"),
            ("–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–∫–ª–∞–¥–∫—É –≤ —é–±–∫–µ", "–æ—Ç 1500 ‚ÇΩ"),
            ("–ü–æ–¥–≥–æ–Ω –ø–ª–∞—Ç—å—è –ø–æ —Ñ–∏–≥—É—Ä–µ", "–æ—Ç 1500 ‚ÇΩ"),
        ],
    }
    
    for cat_data in categories_data:
        cat_id = add_category(
            name=cat_data["name"],
            slug=cat_data["slug"],
            emoji=cat_data["emoji"],
            sort_order=cat_data["sort_order"]
        )
        
        if cat_data["slug"] in prices_data:
            for idx, (name, price) in enumerate(prices_data[cat_data["slug"]]):
                add_price(cat_id, name, price, sort_order=idx)
    
    logger.info("‚úÖ –¶–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö")
    return True
